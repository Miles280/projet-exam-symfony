{% extends 'base.html.twig' %}

{% block title %}Nouveau rôle{% endblock %}

{% block body %}
<div class="max-w-3xl mx-auto p-6 bg-gray-800 shadow-lg rounded-lg mt-8">
	<h1 class="text-2xl font-bold mb-6 text-center">Créer un nouveau rôle</h1>

	{{ form_start(form, {'attr': {'class': 'space-y-4'}}) }}

		{{ form_row(form.name, {'attr': {'class': 'w-full'}}) }}
		{{ form_row(form.camp, {'attr': {'class': 'w-full'}}) }}
		{{ form_row(form.goal, {'attr': {'class': 'w-full'}}) }}
		{{ form_row(form.description, {'attr': {'class': 'w-full'}}) }}
		{{ form_row(form.minPlayer, {'attr': {'class': 'w-full'}}) }}

		<h2 class="text-xl font-semibold mt-6 mb-2">Pouvoirs</h2>
		<div data-collection-holder>
			{% for powerForm in form.powers %}
				<div class="border border-gray-600 p-4 mb-4 rounded bg-gray-700">
					{{ form_row(powerForm.title, {'attr': {'class': 'w-full'}}) }}
					{{ form_row(powerForm.description, {'attr': {'class': 'w-full'}}) }}
					{{ form_row(powerForm.position, {'attr': {'class': 'w-full'}}) }}
				</div>
			{% else %}
				<p class="text-sm text-gray-400">Aucun pouvoir pour le moment.</p>
			{% endfor %}
		</div>

		<div class="text-center mt-6">
			<button class="bg-green-600 text-white px-6 py-2 rounded hover:bg-green-500">Enregistrer</button>
		</div>

	{{ form_end(form) }}

	<div class="mt-4 text-center">
		<a href="{{ path('app_role_index') }}" class="text-blue-400 hover:underline">← Retour à la liste</a>
	</div>
</div>
{% endblock %}
